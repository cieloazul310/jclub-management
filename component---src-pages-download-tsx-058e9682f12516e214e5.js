(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"5Ho/":function(e,t,n){"use strict";n.r(t),n.d(t,"query",(function(){return Be}));var a=n("q1tI"),r=n("ofer"),l=n("Ji2X"),c=n("dfam"),i=n("JrkS"),o=n("R/WZ"),u=n("ZBNC"),s=n("7VIw"),d=n.n(s),m=n("8yLC"),f=n("KQm4"),p=n("eD//"),b=n("hxuT"),E=n("tVbE"),v=n("56Ss"),g=n("IsqK"),h=n("wx14"),k=n("Ff2n"),y=n("iuhU"),C=n("4ppn"),O=n("5AJ6"),j=Object(O.a)(a.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),x=Object(O.a)(a.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),_=n("ye/S"),w=Object(O.a)(a.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),F=n("NqtD"),S=n("H2TA"),R=a.createElement(x,null),J=a.createElement(j,null),N=a.createElement(w,null),A=a.forwardRef((function(e,t){var n=e.checkedIcon,r=void 0===n?R:n,l=e.classes,c=e.color,i=void 0===c?"secondary":c,o=e.icon,u=void 0===o?J:o,s=e.indeterminate,d=void 0!==s&&s,m=e.indeterminateIcon,f=void 0===m?N:m,p=e.inputProps,b=e.size,E=void 0===b?"medium":b,v=Object(k.a)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),g=d?f:u,O=d?f:r;return a.createElement(C.a,Object(h.a)({type:"checkbox",classes:{root:Object(y.a)(l.root,l["color".concat(Object(F.a)(i))],d&&l.indeterminate),checked:l.checked,disabled:l.disabled},color:i,inputProps:Object(h.a)({"data-indeterminate":d},p),icon:a.cloneElement(g,{fontSize:void 0===g.props.fontSize&&"small"===E?E:g.props.fontSize}),checkedIcon:a.cloneElement(O,{fontSize:void 0===O.props.fontSize&&"small"===E?E:O.props.fontSize}),ref:t},v))})),z=Object(S.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(_.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(_.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(A),M=n("JQEk"),P=n("wb2y"),T=n("mYdW"),B=n.n(T),I=n("1iKp"),D=n.n(I),L=n("z2QA");var Z=function(e){var t=e.clubsFilter,n=e.yearsFilter,r=e.categoriesFilter,l=e.setClubsFilter,c=e.setYearsFilter,i=e.setCategoriesFilter;return a.createElement(a.Fragment,null,a.createElement($,{clubsFilter:t,setClubsFilter:l}),a.createElement(P.a,null),a.createElement(H,{yearsFilter:n,setYearsFilter:c}),a.createElement(P.a,null),a.createElement(V,{categoriesFilter:r,setCategoriesFilter:i}))};function $(e){var t=e.clubsFilter,n=e.setClubsFilter,r=Object(L.d)(),l=Object(L.e)(),c=Object(L.f)(),i=[].concat(Object(f.a)(r),Object(f.a)(l),Object(f.a)(c)).map((function(e){var t;return null!==(t=e.node.slug)&&void 0!==t?t:""}));return a.createElement(p.a,{subheader:a.createElement(b.a,null,"クラブ")},a.createElement(E.a,{button:!0,onClick:function(){n(i)}},a.createElement(g.a,{primary:"全て選択"})),a.createElement(E.a,{button:!0,onClick:function(){n([])}},a.createElement(g.a,{primary:"全て解除"})),a.createElement(U,{clubs:r,title:"J1",clubsFilter:t,setClubsFilter:n}),a.createElement(U,{clubs:l,title:"J2",clubsFilter:t,setClubsFilter:n}),a.createElement(U,{clubs:c,title:"J3",clubsFilter:t,setClubsFilter:n}))}function U(e){var t=e.clubs,n=e.title,r=e.clubsFilter,l=e.setClubsFilter,c=t.map((function(e){var t;return null!==(t=e.node.slug)&&void 0!==t?t:""})),i=c.every((function(e){return r.includes(e)})),o=!c.some((function(e){return r.includes(e)})),u=a.useState(!1),s=u[0],d=u[1];return a.createElement(a.Fragment,null,a.createElement(E.a,{button:!0,onClick:function(){d(!s)}},a.createElement(v.a,null,a.createElement(z,{checked:!o,indeterminate:!i&&!o,edge:"start",disableRipple:!0})),a.createElement(g.a,{primary:n}),s?a.createElement(B.a,null):a.createElement(D.a,null)),a.createElement(M.a,{in:s},a.createElement(E.a,{button:!0,onClick:function(){l(Array.from(new Set([].concat(Object(f.a)(r),Object(f.a)(c)))))}},a.createElement(g.a,{primary:"全て選択"})),a.createElement(E.a,{button:!0,onClick:function(){l(r.filter((function(e){return!c.includes(e)})))}},a.createElement(g.a,{primary:"全て解除"})),t.map((function(e,t){var n,c,i,o,u=e.node;return a.createElement(E.a,{key:null!==(n=u.slug)&&void 0!==n?n:t,button:!0,dense:!0,onClick:(o=null!==(c=u.slug)&&void 0!==c?c:"",function(){l(r.includes(o)?r.filter((function(e){return e!==o})):[].concat(Object(f.a)(r),[o]))})},a.createElement(v.a,null,a.createElement(z,{checked:r.includes(null!==(i=u.slug)&&void 0!==i?i:""),edge:"start",disableRipple:!0})),a.createElement(g.a,{primary:u.name}))}))))}function H(e){var t=e.yearsFilter,n=e.setYearsFilter,r=Object(L.b)().map((function(e){var t=e.year;return null!=t?t:0}));return a.createElement(p.a,{subheader:a.createElement(b.a,null,"年度")},a.createElement(E.a,{button:!0,onClick:function(){n(r)}},a.createElement(g.a,{primary:"全て選択"})),a.createElement(E.a,{button:!0,onClick:function(){n([])}},a.createElement(g.a,{primary:"全て解除"})),r.map((function(e,r){return a.createElement(E.a,{key:null!=e?e:r,button:!0,onClick:(l=e,function(){n(t.includes(l)?t.filter((function(e){return e!==l})):[].concat(Object(f.a)(t),[l]))})},a.createElement(v.a,null,a.createElement(z,{checked:t.includes(null!=e?e:0),edge:"start",disableRipple:!0})),a.createElement(g.a,{primary:e}));var l})))}function V(e){var t=e.categoriesFilter,n=e.setCategoriesFilter,r=["J1","J2","J3","others"],l=function(e){return function(){n(t.includes(e)?t.filter((function(t){return t!==e})):[].concat(Object(f.a)(t),[e]))}};return a.createElement(p.a,{subheader:a.createElement(b.a,null,"カテゴリ")},a.createElement(E.a,{button:!0,onClick:function(){n(r)}},a.createElement(g.a,{primary:"全て選択"})),a.createElement(E.a,{button:!0,onClick:function(){n([])}},a.createElement(g.a,{primary:"全て解除"})),a.createElement(E.a,{button:!0,onClick:l("J1")},a.createElement(v.a,null,a.createElement(z,{checked:t.includes("J1"),edge:"start",disableRipple:!0})),a.createElement(g.a,{primary:"J1"})),a.createElement(E.a,{button:!0,onClick:l("J2")},a.createElement(v.a,null,a.createElement(z,{checked:t.includes("J2"),edge:"start",disableRipple:!0})),a.createElement(g.a,{primary:"J2"})),a.createElement(E.a,{button:!0,onClick:l("J3")},a.createElement(v.a,null,a.createElement(z,{checked:t.includes("J3"),edge:"start",disableRipple:!0})),a.createElement(g.a,{primary:"J3"})),a.createElement(E.a,{button:!0,onClick:l("others")},a.createElement(v.a,null,a.createElement(z,{checked:t.includes("others"),edge:"start",disableRipple:!0})),a.createElement(g.a,{primary:"その他"})))}var Y=["fullname","license","rank","ppg","elevation"],q=["revenue","expense","op_profit","no_rev","no_exp","ordinary_profit","sp_rev","sp_exp","profit_before_tax","tax","profit","related_revenue"],W=["assets","curr_assets","fixed_assets","liabilities","curr_liabilities","fixed_liabilities","net_worth","capital_stock","capital_surplus","retained_earnings"],G=["sponsor","ticket","broadcast","academy_rev","goods_rev","other_revs"],X=["salary","game_exp","team_exp","academy_exp","women_exp","goods_exp","manage_exp","sga"],K=["all_attd","all_games","league_average","unit_price","league_attd","league_games","leaguecup_attd","leaguecup_games","po_attd","po_games","acl_attd","acl_attd","second_attd","second_games"],Q=[].concat(Y,q,W,G,X,K);var ee=function(e){var t=e.fields,n=e.setFields,r=Object(L.c)(),l=ae.apply(void 0,Object(f.a)(Y))(r),c=ae.apply(void 0,Object(f.a)(q))(r),i=ae.apply(void 0,Object(f.a)(W))(r),o=ae.apply(void 0,Object(f.a)(G))(r),u=ae.apply(void 0,Object(f.a)(X))(r);return a.createElement(a.Fragment,null,a.createElement(te,{item:l,fields:t,setFields:n,title:"一般"}),a.createElement(te,{item:c,fields:t,setFields:n,title:"損益計算書"}),a.createElement(te,{item:i,fields:t,setFields:n,title:"貸借対照表"}),a.createElement(te,{item:o,fields:t,setFields:n,title:"営業収入"}),a.createElement(te,{item:u,fields:t,setFields:n,title:"営業費用"}),a.createElement(ne,{fields:t,setFields:n}))};function te(e){var t=e.title,n=e.fields,r=e.setFields,l=e.item,c=Object.keys(l),i=a.useState(!1),o=i[0],u=i[1],s=c.every((function(e){return n.includes(e)})),d=c.every((function(e){return!n.includes(e)}));return a.createElement(p.a,null,a.createElement(E.a,{button:!0,onClick:function(){u(!o)}},a.createElement(v.a,null,a.createElement(z,{disableRipple:!0,checked:!d,indeterminate:!s&&!d,edge:"start"})),a.createElement(g.a,{primary:t}),o?a.createElement(B.a,null):a.createElement(D.a,null)),a.createElement(M.a,{in:o},a.createElement(E.a,{button:!0,dense:!0,onClick:function(){r(Array.from(new Set([].concat(Object(f.a)(n),Object(f.a)(c)))))}},a.createElement(g.a,{primary:"全て選択"})),a.createElement(E.a,{button:!0,dense:!0,onClick:function(){r(n.filter((function(e){return!c.includes(e)})))}},a.createElement(g.a,{primary:"全て解除"})),Object.entries(l).map((function(e){var t,l=e[0],c=e[1];return a.createElement(E.a,{key:l,button:!0,dense:!0,onClick:(t=l,function(){r(n.includes(t)?n.filter((function(e){return e!==t})):[].concat(Object(f.a)(n),[t]))})},a.createElement(v.a,null,a.createElement(z,{checked:n.includes(l),edge:"start"})),a.createElement(g.a,{primary:c}))}))))}function ne(e){var t=e.fields,n=e.setFields,r=a.useState(!1),l=r[0],c=r[1],i=K.every((function(e){return t.includes(e)})),o=K.every((function(e){return!t.includes(e)})),u=function(e){return function(){n(t.includes(e)?t.filter((function(t){return t!==e})):[].concat(Object(f.a)(t),[e]))}},s=function(e){var a=e[0],r=e[1];return function(){n(t.includes(a)?t.filter((function(e){return e!==a&&e!==r})):[].concat(Object(f.a)(t),[a,r]))}};return a.createElement(p.a,null,a.createElement(E.a,{button:!0,onClick:function(){c(!l)}},a.createElement(v.a,null,a.createElement(z,{disableRipple:!0,checked:!o,indeterminate:!i&&!o,edge:"start"})),a.createElement(g.a,{primary:"入場者数"}),l?a.createElement(B.a,null):a.createElement(D.a,null)),a.createElement(M.a,{in:l},a.createElement(E.a,{button:!0,dense:!0,onClick:function(){n(Array.from(new Set([].concat(Object(f.a)(t),Object(f.a)(K)))))}},a.createElement(g.a,{primary:"全て選択"})),a.createElement(E.a,{button:!0,dense:!0,onClick:function(){n(t.filter((function(e){return!K.includes(e)})))}},a.createElement(g.a,{primary:"全て解除"})),a.createElement(E.a,{button:!0,dense:!0,onClick:u("all_attd")},a.createElement(v.a,null,a.createElement(z,{checked:t.includes("all_attd"),edge:"start"})),a.createElement(g.a,{primary:"年間総入場者数"})),a.createElement(E.a,{button:!0,dense:!0,onClick:u("all_games")},a.createElement(v.a,null,a.createElement(z,{checked:t.includes("all_games"),edge:"start"})),a.createElement(g.a,{primary:"ホーム試合数"})),a.createElement(E.a,{button:!0,dense:!0,onClick:u("league_average")},a.createElement(v.a,null,a.createElement(z,{checked:t.includes("league_average"),edge:"start"})),a.createElement(g.a,{primary:"リーグ戦平均入場者数"})),a.createElement(E.a,{button:!0,dense:!0,onClick:u("unit_price")},a.createElement(v.a,null,a.createElement(z,{checked:t.includes("unit_price"),edge:"start"})),a.createElement(g.a,{primary:"客単価"})),a.createElement(E.a,{button:!0,dense:!0,onClick:s(["league_attd","league_games"])},a.createElement(v.a,null,a.createElement(z,{checked:t.includes("league_attd"),edge:"start"})),a.createElement(g.a,{primary:"リーグ戦"})),a.createElement(E.a,{button:!0,dense:!0,onClick:s(["leaguecup_attd","leaguecup_games"])},a.createElement(v.a,null,a.createElement(z,{checked:t.includes("leaguecup_attd"),edge:"start"})),a.createElement(g.a,{primary:"リーグカップ"})),a.createElement(E.a,{button:!0,dense:!0,onClick:s(["po_attd","po_games"])},a.createElement(v.a,null,a.createElement(z,{checked:t.includes("po_attd"),edge:"start"})),a.createElement(g.a,{primary:"プレーオフ等"})),a.createElement(E.a,{button:!0,dense:!0,onClick:s(["acl_attd","acl_games"])},a.createElement(v.a,null,a.createElement(z,{checked:t.includes("acl_attd"),edge:"start"})),a.createElement(g.a,{primary:"ACL"})),a.createElement(E.a,{button:!0,dense:!0,onClick:s(["second_attd","second_games"])},a.createElement(v.a,null,a.createElement(z,{checked:t.includes("second_attd"),edge:"start"})),a.createElement(g.a,{primary:"セカンドチーム"}))))}function ae(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n={},a=0;a<t.length;a++){var r=t[a];n[r]="league_average"===r?"リーグ戦平均入場者数":"unit_price"===r?"客単価":e?e[r]:null}return n}}var re=n("Z3vd"),le=a.forwardRef((function(e,t){var n=e.classes,r=e.className,l=e.row,c=void 0!==l&&l,i=Object(k.a)(e,["classes","className","row"]);return a.createElement("div",Object(h.a)({className:Object(y.a)(n.root,r,c&&n.row),ref:t},i))})),ce=Object(S.a)({root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}},{name:"MuiFormGroup"})(le),ie=n("EHdT"),oe=a.forwardRef((function(e,t){e.checked;var n=e.classes,l=e.className,c=e.control,i=e.disabled,o=(e.inputRef,e.label),u=e.labelPlacement,s=void 0===u?"end":u,d=(e.name,e.onChange,e.value,Object(k.a)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),m=Object(ie.a)(),f=i;void 0===f&&void 0!==c.props.disabled&&(f=c.props.disabled),void 0===f&&m&&(f=m.disabled);var p={disabled:f};return["checked","name","onChange","value","inputRef"].forEach((function(t){void 0===c.props[t]&&void 0!==e[t]&&(p[t]=e[t])})),a.createElement("label",Object(h.a)({className:Object(y.a)(n.root,l,"end"!==s&&n["labelPlacement".concat(Object(F.a)(s))],f&&n.disabled),ref:t},d),a.cloneElement(c,p),a.createElement(r.a,{component:"span",className:Object(y.a)(n.label,f&&n.disabled)},o))})),ue=Object(S.a)((function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(oe),se=Object(O.a)(a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),de=Object(O.a)(a.createElement("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked");var me=Object(S.a)((function(e){return{root:{position:"relative",display:"flex","&$checked $layer":{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}},layer:{left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest})},checked:{}}}),{name:"PrivateRadioButtonIcon"})((function(e){var t=e.checked,n=e.classes,r=e.fontSize;return a.createElement("div",{className:Object(y.a)(n.root,t&&n.checked)},a.createElement(se,{fontSize:r}),a.createElement(de,{fontSize:r,className:n.layer}))})),fe=n("x6Ns");var pe=a.createContext();var be=a.createElement(me,{checked:!0}),Ee=a.createElement(me,null),ve=a.forwardRef((function(e,t){var n=e.checked,r=e.classes,l=e.color,c=void 0===l?"secondary":l,i=e.name,o=e.onChange,u=e.size,s=void 0===u?"medium":u,d=Object(k.a)(e,["checked","classes","color","name","onChange","size"]),m=a.useContext(pe),f=n,p=Object(fe.a)(o,m&&m.onChange),b=i;return m&&(void 0===f&&(f=m.value===e.value),void 0===b&&(b=m.name)),a.createElement(C.a,Object(h.a)({color:c,type:"radio",icon:a.cloneElement(Ee,{fontSize:"small"===s?"small":"default"}),checkedIcon:a.cloneElement(be,{fontSize:"small"===s?"small":"default"}),classes:{root:Object(y.a)(r.root,r["color".concat(Object(F.a)(c))]),checked:r.checked,disabled:r.disabled},name:b,checked:f,onChange:p,ref:t},d))})),ge=Object(S.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(_.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(_.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiRadio"})(ve),he=n("p2q9"),ke=n.n(he),ye={},Ce={};function Oe(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function je(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var a in e)a in t||n.push(t[a]=a)})),n}function xe(e,t){var n=e+"",a=n.length;return a<t?new Array(t-a+1).join(0)+n:n}function _e(e){var t,n=e.getUTCHours(),a=e.getUTCMinutes(),r=e.getUTCSeconds(),l=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+xe(-t,6):t>9999?"+"+xe(t,6):xe(t,4))+"-"+xe(e.getUTCMonth()+1,2)+"-"+xe(e.getUTCDate(),2)+(l?"T"+xe(n,2)+":"+xe(a,2)+":"+xe(r,2)+"."+xe(l,3)+"Z":r?"T"+xe(n,2)+":"+xe(a,2)+":"+xe(r,2)+"Z":a||n?"T"+xe(n,2)+":"+xe(a,2)+"Z":"")}var we=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function a(e,t){var a,r=[],l=e.length,c=0,i=0,o=l<=0,u=!1;function s(){if(o)return Ce;if(u)return u=!1,ye;var t,a,r=c;if(34===e.charCodeAt(r)){for(;c++<l&&34!==e.charCodeAt(c)||34===e.charCodeAt(++c););return(t=c)>=l?o=!0:10===(a=e.charCodeAt(c++))?u=!0:13===a&&(u=!0,10===e.charCodeAt(c)&&++c),e.slice(r+1,t-1).replace(/""/g,'"')}for(;c<l;){if(10===(a=e.charCodeAt(t=c++)))u=!0;else if(13===a)u=!0,10===e.charCodeAt(c)&&++c;else if(a!==n)continue;return e.slice(r,t)}return o=!0,e.slice(r,l)}for(10===e.charCodeAt(l-1)&&--l,13===e.charCodeAt(l-1)&&--l;(a=s())!==Ce;){for(var d=[];a!==ye&&a!==Ce;)d.push(a),a=s();t&&null==(d=t(d,i++))||r.push(d)}return r}function r(t,n){return t.map((function(t){return n.map((function(e){return c(t[e])})).join(e)}))}function l(t){return t.map(c).join(e)}function c(e){return null==e?"":e instanceof Date?_e(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,r,l=a(e,(function(e,a){if(n)return n(e,a-1);r=e,n=t?function(e,t){var n=Oe(e);return function(a,r){return t(n(a),r,e)}}(e,t):Oe(e)}));return l.columns=r||[],l},parseRows:a,format:function(t,n){return null==n&&(n=je(t)),[n.map(c).join(e)].concat(r(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=je(e)),r(e,t).join("\n")},formatRows:function(e){return e.map(l).join("\n")},formatRow:l,formatValue:c}}(","),Fe=(we.parse,we.parseRows,we.format),Se=(we.formatBody,we.formatRows,we.formatRow,we.formatValue,Object(o.a)((function(e){return Object(u.a)({root:{height:"calc(100vh - 112px)",display:"flex",flexDirection:"column"},section:{padding:e.spacing(1,0)},flexGrow:{flexGrow:1,display:"flex"},textArea:{flexGrow:1,padding:e.spacing(1),width:"100%",overflowY:"auto",background:e.palette.background.paper,color:e.palette.text.primary}})})));var Re=function(e){var t=e.dataset,n=Se(),l=Object(L.a)(),c=Object(L.b)(),i=l.map((function(e){var t;return null!==(t=e.node.slug)&&void 0!==t?t:""})),o=a.useState("json"),u=o[0],s=o[1],d=a.useState("none"),m=d[0],p=d[1],b=function(e){s(e.target.name)},E=function(e){p(e.target.name)},v=a.useMemo((function(){if("csv"===u){var e="club"===m?Object(f.a)(t).sort((function(e,t){return i.indexOf(e.id)-i.indexOf(t.id)})):t;return Fe(e)}var n="year"===m?c.map((function(e){var n=e.year;return{year:n,items:t.filter((function(e){return e["年"]===n}))}})).filter((function(e){return e.items.length>0})):"club"===m?l.map((function(e){var n=e.node;return Object.assign({},n,{items:t.filter((function(e){return e.id===n.slug}))})})).filter((function(e){return e.items.length>0})):t;return JSON.stringify(n,null,2)}),[t,u,m,i,l,c]),g=a.useMemo((function(){if("object"!=typeof window)return"#";var e=new Blob([v],{type:"csv"===u?"text/csv":"application/json"});return URL.createObjectURL(e)}),[u,v]);return a.createElement("div",{className:n.root},a.createElement("div",{className:n.section},a.createElement(r.a,{variant:"h6",component:"h3",gutterBottom:!0},"プレビュー"),a.createElement(ce,{row:!0},a.createElement(ue,{control:a.createElement(ge,{checked:"json"===u,name:"json",onChange:b}),label:"JSON"}),a.createElement(ue,{control:a.createElement(ge,{checked:"csv"===u,name:"csv",onChange:b}),label:"CSV"})),a.createElement(ce,{row:!0},a.createElement(ue,{control:a.createElement(ge,{checked:"none"===m,name:"none",onChange:E}),label:"グループ化しない"}),a.createElement(ue,{control:a.createElement(ge,{checked:"club"===m,name:"club",onChange:E}),label:"クラブ別"}),a.createElement(ue,{control:a.createElement(ge,{checked:"year"===m,name:"year",onChange:E}),label:"年別"}))),a.createElement("div",{className:Object(y.a)(n.section,n.flexGrow)},a.createElement("textarea",{className:n.textArea,spellCheck:!1,readOnly:!0,value:v})),a.createElement("div",{className:n.section},a.createElement(re.a,{variant:"contained",color:"primary",startIcon:a.createElement(ke.a,null),href:g,download:!0,component:"a"},"ダウンロード")))},Je=Object(o.a)((function(e){return Object(u.a)({tabPane:{padding:e.spacing(2,0)}})}));var Ne=function(e){var t=e.index,n=e.value,r=e.children,l=Je();return a.createElement("div",{className:l.tabPane,hidden:t!==n},t===n?r:null)},Ae=n("wcqa"),ze=n("Dyiq"),Me=n("kZxY"),Pe=Object(o.a)((function(e){var t,n;return Object(u.a)({root:(t={display:"flex",flexDirection:"row"},t[e.breakpoints.only("xs")]={display:"block"},t),tabPane:(n={width:"50%",height:"calc(100vh - 64px)",overflowY:"auto"},n[e.breakpoints.only("xs")]={width:"100%",height:"calc(100vh - 56px)"},n)})}));t.default=function(e){var t=e.data.allDataset,n=Pe(),o=Object(Me.a)(),u=Object(L.c)(),s=Object(L.a)().map((function(e){var t;return null!==(t=e.node.slug)&&void 0!==t?t:""})),f=["J1","J2","J3","others"],p=a.useState(0),b=p[0],E=p[1],v=a.useState(s),g=v[0],h=v[1],k=a.useState([2019]),y=k[0],C=k[1],O=a.useState(f),j=O[0],x=O[1],_=a.useState(Q),w=_[0],F=_[1],S=function(e,t){E(t)};a.useEffect((function(){o||2!==b||E(0)}),[o,b]);var R=a.useMemo((function(){return t.edges.map((function(e){return e.node})).filter((function(e){var t=e.slug;return g.includes(null!=t?t:"")})).filter((function(e){var t=e.year;return y.includes(null!=t?t:0)})).filter((function(e){var t=e.category;return j.includes(Te(t))})).map((function(e){for(var t,n,a,r,l={"クラブ":null!==(t=e.name)&&void 0!==t?t:"","年":null!==(n=e.year)&&void 0!==n?n:0,"所属":null!==(a=e.category)&&void 0!==a?a:"",id:null!==(r=e.slug)&&void 0!==r?r:""},c=Q.filter((function(e){return w.includes(e)})),i=0;i<c.length;i++){var o,s,d=c[i];if("league_average"===d)l["リーグ平均入場者数"]=Math.round((null!==(o=e.league_attd)&&void 0!==o?o:0)/(null!==(s=e.league_games)&&void 0!==s?s:1));else if("unit_price"===d){var m,f;l["客単価"]=Math.round(1e6*(null!==(m=e.ticket)&&void 0!==m?m:0)/(null!==(f=e.all_attd)&&void 0!==f?f:1))}else u&&u[d]&&(l[u[d]]=e[d])}return l})).sort((function(e,t){return e["年"]-t["年"]||f.indexOf(Te(e["所属"]))-f.indexOf(Te(t["所属"]))||s.indexOf(e.id)-s.indexOf(t.id)}))}),[t,g,y,j,w,u,s,f]),J=a.useMemo((function(){return a.createElement(l.a,{maxWidth:"md"},a.createElement(r.a,{paragraph:!0},"データのアイテムを選択"),a.createElement(Z,{clubsFilter:g,setClubsFilter:h,yearsFilter:y,setYearsFilter:C,categoriesFilter:j,setCategoriesFilter:x}))}),[g,h,y,C,j,x]),N=a.useMemo((function(){return a.createElement(l.a,{maxWidth:"md"},a.createElement(r.a,{paragraph:!0},"データの項目を選択"),a.createElement(ee,{fields:w,setFields:F}))}),[w,F]),A=a.useMemo((function(){return a.createElement(l.a,{maxWidth:"md"},a.createElement(Re,{dataset:R}))}),[R]);return a.createElement(m.a,{title:"データダウンロード"},o?a.createElement("div",null,a.createElement(c.a,{value:b,textColor:"secondary",onChange:S},a.createElement(i.a,{label:"フィルタ",value:0}),a.createElement(i.a,{label:"項目",value:1}),a.createElement(i.a,{label:"プレビュー",value:2})),a.createElement(d.a,{index:b,onChangeIndex:function(e){E(e)},resistance:!0},a.createElement(Ne,{value:b,index:0},J),a.createElement(Ne,{value:b,index:1},N),a.createElement(Ne,{value:b,index:2},A))):a.createElement("div",{className:n.root},a.createElement("div",{className:n.tabPane},a.createElement(c.a,{value:b,textColor:"secondary",onChange:S},a.createElement(i.a,{label:"フィルタ",value:0}),a.createElement(i.a,{label:"項目",value:1})),a.createElement("div",null,a.createElement(Ne,{value:b,index:0},J),a.createElement(Ne,{value:b,index:1},N))),a.createElement("div",{className:n.tabPane},A)),a.createElement(Ae.b,null,a.createElement(ze.a,null)))};function Te(e){return"J1"===e||"J2"===e||"J3"===e?e:"others"}var Be="2018315251"},"8yLC":function(e,t,n){"use strict";var a=n("q1tI"),r=n("bXiM"),l=n("aBAf"),c=n("XX3T"),i=n("6u8J"),o=n("csfp"),u=n("R/WZ"),s=n("ZBNC"),d=n("9NZZ"),m=n("uniG"),f=n.n(m),p=n("4LcO"),b=n("39vw"),E=n("CfMB"),v=n("bbla"),g="undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent),h=Object(u.a)((function(e){var t;return Object(s.a)({appbar:{background:"dark"===e.palette.type?e.palette.common.black:void 0,color:"dark"===e.palette.type?e.palette.common.white:void 0},content:(t={paddingTop:64},t[e.breakpoints.only("xs")]={paddingTop:56},t),fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}})}));t.a=function(e){var t=e.children,n=e.drawerContents,u=e.title,s=e.description,m=e.headerTitle,k=h(),y=Object(d.a)(),C=a.useState(!1),O=C[0],j=C[1],x=function(e){return function(){j(e)}},_=function(){j(!O)};return a.createElement("div",null,a.createElement(p.a,{title:u,description:s}),a.createElement(i.a,{appear:!1,direction:"down",in:!y},a.createElement(r.a,{className:k.appbar},a.createElement(b.a,{title:m||u,onLeftButtonClick:_}))),a.createElement("div",{className:k.content},a.createElement("main",null,t)),a.createElement(v.a,null),a.createElement(l.a,{open:O,onClose:x(!1),onOpen:x(!0),disableBackdropTransition:!g,disableDiscovery:g},a.createElement(E.a,{onCloseIconClick:x(!1),drawerContents:n})),a.createElement("div",{className:k.fab},a.createElement(o.a,{title:"メニュー"},a.createElement(c.a,{color:"secondary",onClick:_},a.createElement(f.a,null)))))}}}]);
//# sourceMappingURL=component---src-pages-download-tsx-058e9682f12516e214e5.js.map